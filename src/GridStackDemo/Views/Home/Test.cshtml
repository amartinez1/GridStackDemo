@section styles{

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/gridstack.js/0.2.5/gridstack.min.css" />
    <style>
        #dashBoarbMenu ul li {
            list-style: none;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        #dashBoarbMenu ul li {
            display: inline;
        }

        #dashBoarbMenu ul a {
            display: inline-block;
            padding: 10px;
        }

    </style>

}
@section scripts
{
    <script type="text/javascript" src="~/lib/gridstack/dist/gridstack.js"></script>
    <script src="~/lib/gridstackangularimproved/dist/gridstack-angular.js"></script>
    <script src="~/jspm_packages/system.js"></script>
    <script src="~/config.js"></script>
    <script>
        System.import("app/angularbootstrap");
    </script>
    @*<script src="~/troubleshooting/system.tap.js"></script>
        <script src="~/troubleshooting/system.yuml.js"></script>*@


}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
        <h2>DashBoard</h2>
        <ol class="breadcrumb">
            <li class="active">
                <strong><a asp-action="Index" asp-controller="Home">Home</a></strong>
            </li>

        </ol>
    </div>
</div>


<div class="wrapper wrapper-content  animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox ">

                <div class="ibox-title">
                    <h5>Dash board configuration</h5>
                </div>
                <div class="ibox-content">
                    <div ng-controller="dashBoardAngular as Vm" ng-cloak>

                        <section>
                            <h1>This section is for troubleshooting and testing</h1>
                            <pre>{{Vm.Widgets}}</pre>


                            <nav id="dashBoarbMenu" class="clearfix">
                                <ul>
                                    <li ng-click="Vm.AddClaimsChartWidget()">Add Chart Widget |</li>
                                    <li ng-click="Vm.AddRadialGaugeWidget()">Add Radial Gauge |</li>
                                    <li ng-click="Vm.AddActivityGridWidget()">Add Activity Grid |</li>
                                    <li ng-click="Vm.AddOpenedPanelWidget()">Open Claims | </li>
                                    <li ng-click="Vm.AddReOpenedPanelWidget()">Add ReOpened Panel |</li>
                                    <li ng-click="Vm.AddClosedPanelWidget()">Add Closed Panel |</li>
                                </ul>
                            </nav>

                        </section>




                        <div gridstack gridstack-handler="Gridstacker" class="grid-stack grid1"
                             options="Vm.Options"
                             on-change="Vm.OnChange(event,items)"
                             on-drag-start="Vm.OnDragStart(event,ui)"
                             on-drag-stop="Vm.OnDragStop(event, ui)"
                             on-resize-start="Vm.OnResizeStart(event, ui)"
                             on-resize-stop="Vm.OnResizeStop(event, ui)">

                            <div gridstack-item ng-repeat="w in Vm.Widgets"
                                 class="grid-stack-item"
                                 gs-item-id="w.id"
                                 gs-item-x="w.x"
                                 gs-item-y="w.y"
                                 gs-item-width="w.width"
                                 gs-item-height="w.height"
                                 gs-item-autopos="1"
                                 on-item-added="Vm.OnItemAdded(item)"
                                 on-item-removed="Vm.OnItemRemoved(item)">



                                <div class="grid-stack-item-content">
                                    <div ng-if="w.id === 'MyDashBoardClaimsChartInstance' ">
                                        <div id="{{w.id}}" kendo-chart="vm.MyDashBoardClaimsChartInstance"
                                             k-legend="{ position: 'bottom' }"
                                             k-series-defaults="{ type: 'line' }"
                                             k-series="[
                                 { field: 'nuclear', name: 'Nuclear electricity' },
                                 { field: 'hydro', name: 'Hydro electricity' },
                                 { field: 'wind', name: 'Wind electricity' }
                             ]"
                                             k-data-source="Vm.ClaimsData"
                                             style="height: 250px;">
                                        </div>


                                        <div>
                                            <a class="btn btn-primary" ng-click="Vm.RemoveWidget(w)" href="#">Remove</a>
                                        </div>

                                    </div>



                                    <div ng-if="w.id === 'RadialGaugeInstance' ">

                                        <div id="gauge-container">
                                            <!--I dont understand why RadialGaugeInstance is always null...-->
                                            <span id={{w.id}} kendo-radialgauge="Vm.RadialGaugeInstance"
                                                  k-scale="{ min:0, max: 100}"
                                                  ng-model="Vm.RadialGaugeSelectedNumber"></span>

                                        </div>



                                        <div>
                                            <a class="btn btn-primary" ng-click="Vm.RemoveWidget(w)" href="#">Remove</a>
                                        </div>

                                    </div>




                                    <div ng-if="w.id === 'ActivityGridInstance' ">
                                        <div id={{w.id}} kendo-grid="Vm.ActivityGridInstance" options="Vm.ActivityGridOptions">
                                        </div>

                                        <div>
                                            <a class="btn btn-primary" ng-click="Vm.RemoveWidget(w)" href="#">Remove</a>
                                        </div>

                                    </div>

                                    <div ng-if="w.id === 'OpenedPanelInstance' ">
                                        <opened-claims-panel open-claims="1" open-claims-percentage="30"></opened-claims-panel>
                                        <div>
                                            <a class="btn btn-primary" ng-click="Vm.RemoveWidget(w)" href="#">Remove</a>
                                        </div>
                                    </div>


                                    <div ng-if="w.id === 'ReOpenedPanelInstance' ">
                                        <re-opened-claims-panel re-opened-claims="5" re-opened-claims-percentage="40"></re-opened-claims-panel>
                                        <div>
                                            <a class="btn btn-primary" ng-click="Vm.RemoveWidget(w)" href="#">Remove</a>
                                        </div>
                                    </div>

                                    <div ng-if="w.id === 'ClosedPanelInstance' ">
                                        <closed-claims-panel></closed-claims-panel>
                                        <div>
                                            <a class="btn btn-primary" ng-click="Vm.RemoveWidget(w)" href="#">Remove</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>



